<!DOCTYPE html>
<html xmlns:th="http://thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
	<head>
		<meta charset="utf-8"/>
		<title>Matérias</title>
		<!--Import Google Icon Font-->
	      <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/>
	      <!--Import materialize.css-->
	      <link type="text/css" rel="stylesheet" href="/materialize/css/materialize.min.css"  media="screen,projection"/>
	
	      <!--Let browser know website is optimized for mobile-->
	      <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
	      <link rel="stylesheet" href="./style/styleCss.css"/>
	</head>
	<body>
	
		<header>
		
			<nav class="menu">
				<div class="nav-wrapper">
			    	<a href="./" class="brand-logo">Logo</a>
			      	<ul id="nav-mobile" class="right hide-on-med-and-down">
			        	<li><a href="nova-nota">Nova nota</a></li>
			        	<li><a href="#">Sair</a></li>
			      	</ul>
			    </div>
			 </nav>
			
		</header>
		
		<br>
				
		<div>
		
			<table class="container">
				<thead>
					<tr>
						<th>Matéria</th>
						<th>Nota</th>
					</tr>
				</thead>
				<tbody>
					<tr th:each="nota : ${notas}">
						<td><span th:text="${nota.materia}"></span></td>
						<td><span th:text="${nota.nota}"></span></td>											
						<td><a th:id="${nota.idNota}" class="waves-effect waves-light btn-small" onclick="chamarController(this);"><i class="material-icons left">delete</i></a></td>
					</tr>
				</tbody>
				<tfoot>
					<th>Média</th>
					<th><span th:text="${media}"></span></th>
				</tfoot>
			
			</table>
		
		</div>

		<script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
	    <script type="text/javascript" src="materialize/js/materialize.min.js"></script>
	    
	    <script>
       		function chamarController(obj) {
	            var xhttp = new XMLHttpRequest();
	            xhttp.open("DELETE", "/excluir-nota/" + obj.id, true);
	            xhttp.send();
       		}
    	</script>
	    	    	    
	</body>


</html>